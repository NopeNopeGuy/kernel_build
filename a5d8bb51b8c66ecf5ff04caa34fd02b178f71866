{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e168de19_b3a8774d",
        "filename": "kleaf/kernel.bzl",
        "patchSetId": 2
      },
      "lineNbr": 948,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2021-09-03T08:51:52Z",
      "side": 1,
      "message": "do be honest, I think I would prefer if the kernel_modules_install invocation could tell which modules to gather. That would make things a bit more explicit and easier ...\n\nthe problem with this approach is that it is quite cumbersome to get to the .ko files for a developer that just wants to patch and load their module.",
      "revId": "a5d8bb51b8c66ecf5ff04caa34fd02b178f71866",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "39996c72_a84669e3",
        "filename": "kleaf/kernel.bzl",
        "patchSetId": 2
      },
      "lineNbr": 948,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-09-03T20:06:27Z",
      "side": 1,
      "message": "Maybe that can be done automatically when we have the kati work done?",
      "parentUuid": "e168de19_b3a8774d",
      "revId": "a5d8bb51b8c66ecf5ff04caa34fd02b178f71866",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "82973ff8_cfe812c7",
        "filename": "kleaf/kernel.bzl",
        "patchSetId": 2
      },
      "lineNbr": 948,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2021-09-06T10:30:46Z",
      "side": 1,
      "message": "let\u0027s not depend on the details of the kati work for now. I would explicitly list the modules as outs. This also has another effect. Some of the modules that are implicitly built you might not actually want to pack up. E.g. if we introduce GKI modules and a device build (cuttlefish, e.g.) uses a derived fragment config, then those modules would be built as well and packaged again (which would be wrong, actually).\n\nSo, I _think_ we should make this explicit, even if it initially becomes a pain to specify them. OTOH, once define I don\u0027t expect so many changes to the list, except if modules move in/out of this tree.",
      "parentUuid": "39996c72_a84669e3",
      "revId": "a5d8bb51b8c66ecf5ff04caa34fd02b178f71866",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "485a76b7_2545a061",
        "filename": "kleaf/kernel.bzl",
        "patchSetId": 2
      },
      "lineNbr": 948,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-09-08T20:56:52Z",
      "side": 1,
      "message": "Okay. In that case, I\u0027ll abandon this CL.",
      "parentUuid": "82973ff8_cfe812c7",
      "revId": "a5d8bb51b8c66ecf5ff04caa34fd02b178f71866",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a325560_ea3d104f",
        "filename": "kleaf/kernel.bzl",
        "patchSetId": 2
      },
      "lineNbr": 950,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2021-09-03T08:51:52Z",
      "side": 1,
      "message": "mv them over? I don\u0027t think we need the originals anymore at this point.",
      "range": {
        "startLine": 950,
        "startChar": 17,
        "endLine": 950,
        "endChar": 54
      },
      "revId": "a5d8bb51b8c66ecf5ff04caa34fd02b178f71866",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8f30661b_925bb09c",
        "filename": "kleaf/kernel.bzl",
        "patchSetId": 2
      },
      "lineNbr": 950,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-09-03T20:06:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1a325560_ea3d104f",
      "range": {
        "startLine": 950,
        "startChar": 17,
        "endLine": 950,
        "endChar": 54
      },
      "revId": "a5d8bb51b8c66ecf5ff04caa34fd02b178f71866",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4373cd37_63d4a64f",
        "filename": "kleaf/kernel.bzl",
        "patchSetId": 2
      },
      "lineNbr": 950,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-09-03T23:07:57Z",
      "side": 1,
      "message": "I actually don\u0027t need to move or copy at all because L953 flattens the directory structure using the --transform. I deleted it.",
      "parentUuid": "8f30661b_925bb09c",
      "range": {
        "startLine": 950,
        "startChar": 17,
        "endLine": 950,
        "endChar": 54
      },
      "revId": "a5d8bb51b8c66ecf5ff04caa34fd02b178f71866",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7523c36e_f3792792",
        "filename": "kleaf/kernel.bzl",
        "patchSetId": 2
      },
      "lineNbr": 953,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2021-09-03T08:51:52Z",
      "side": 1,
      "message": "consider compressing with --fast or not compressing at all. We do not need to space optimize this as we are anyway extracting it later.",
      "range": {
        "startLine": 953,
        "startChar": 44,
        "endLine": 953,
        "endChar": 47
      },
      "revId": "a5d8bb51b8c66ecf5ff04caa34fd02b178f71866",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "790da86a_c88a16a1",
        "filename": "kleaf/kernel.bzl",
        "patchSetId": 2
      },
      "lineNbr": 953,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2021-09-03T20:06:27Z",
      "side": 1,
      "message": "This is actually not just for dist, but also for building MODULES_ARCHIVE like in build.sh.\n\nIn build.sh, MODULES_ARCHIVE is defined to be `modules.tar.gz`, so if I want to mimic what it does, I should compress it too.",
      "parentUuid": "7523c36e_f3792792",
      "range": {
        "startLine": 953,
        "startChar": 44,
        "endLine": 953,
        "endChar": 47
      },
      "revId": "a5d8bb51b8c66ecf5ff04caa34fd02b178f71866",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}