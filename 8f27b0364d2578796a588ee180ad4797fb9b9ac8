{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ea9de92d_5bd09d88",
        "filename": "kleaf/kernel.bzl",
        "patchSetId": 10
      },
      "lineNbr": 3773,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2022-03-23T20:47:46Z",
      "side": 1,
      "message": "Matthias, it appears that with this CL, when I run update via Bazel (with --lto\u003ddefault), the abi.xml actually changes from the one in the source tree. However, the ABI diff does not report any diffs.\n\nIs the abi.xml change safe? The change is pretty big that I cannot post it anywhere easily.",
      "range": {
        "startLine": 3768,
        "startChar": 0,
        "endLine": 3773,
        "endChar": 9
      },
      "revId": "8f27b0364d2578796a588ee180ad4797fb9b9ac8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77e15615_908e2e62",
        "filename": "kleaf/kernel.bzl",
        "patchSetId": 10
      },
      "lineNbr": 3773,
      "author": {
        "id": 1625880
      },
      "writtenOn": "2022-03-30T16:33:37Z",
      "side": 1,
      "message": "The easiest way to gain confidence in that the XML files are equivalent is:\n\n```\nprebuilts/path/to/stgdiff --abi old.xml new.xml --format small --output -\necho $?\n```\n\nIf the (possibly 0) diffs are all symbol type added/removed or type only declared/fully defined, then you can rest easy.\n\nAnother thing to do is to actually run `diff_abi` specifying that you want STG to be used. This will do the necessary post-processing and interpreting to ignore certain kinds of noise diff. `PATH` will need to be set appropriately.",
      "parentUuid": "ea9de92d_5bd09d88",
      "range": {
        "startLine": 3768,
        "startChar": 0,
        "endLine": 3773,
        "endChar": 9
      },
      "revId": "8f27b0364d2578796a588ee180ad4797fb9b9ac8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9a8f74fe_81036eee",
        "filename": "kleaf/kernel.bzl",
        "patchSetId": 10
      },
      "lineNbr": 3773,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2022-03-31T00:54:08Z",
      "side": 1,
      "message": "The reason I ask is that it appears that the _abi_diff_legacy and _abi_diff targets below all runs successfully, indicating there are no change.\n\nHowever, I think it might be related to trimming as you suggested in the other CL. Let me turn trimming on before dumping ABI and see if the diff is smaller.",
      "parentUuid": "77e15615_908e2e62",
      "range": {
        "startLine": 3768,
        "startChar": 0,
        "endLine": 3773,
        "endChar": 9
      },
      "revId": "8f27b0364d2578796a588ee180ad4797fb9b9ac8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}