{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "992fe7dc_34c136c9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1961395
      },
      "writtenOn": "2023-02-08T17:36:35Z",
      "side": 1,
      "message": "This needs some testing, so moving back to WIP.",
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "437977b5_984839ed",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1961395
      },
      "writtenOn": "2023-02-21T17:40:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "992fe7dc_34c136c9",
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e8b2863_4308608b",
        "filename": "kleaf/impl/common_providers.bzl",
        "patchSetId": 5
      },
      "lineNbr": 41,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2023-02-08T13:24:53Z",
      "side": 1,
      "message": "A list of strings defining targets for ...",
      "range": {
        "startLine": 41,
        "startChar": 23,
        "endLine": 41,
        "endChar": 69
      },
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3938dcf8_e4b0c911",
        "filename": "kleaf/impl/common_providers.bzl",
        "patchSetId": 5
      },
      "lineNbr": 41,
      "author": {
        "id": 1961395
      },
      "writtenOn": "2023-02-21T17:40:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4e8b2863_4308608b",
      "range": {
        "startLine": 41,
        "startChar": 23,
        "endLine": 41,
        "endChar": 69
      },
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f6b26477_b1683e2b",
        "filename": "kleaf/impl/kernel_build.bzl",
        "patchSetId": 5
      },
      "lineNbr": 343,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2023-02-08T13:24:53Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 343,
        "startChar": 38,
        "endLine": 343,
        "endChar": 45
      },
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c5e125cf_1499a4b0",
        "filename": "kleaf/impl/kernel_build.bzl",
        "patchSetId": 5
      },
      "lineNbr": 343,
      "author": {
        "id": 1961395
      },
      "writtenOn": "2023-02-21T17:40:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f6b26477_b1683e2b",
      "range": {
        "startLine": 343,
        "startChar": 38,
        "endLine": 343,
        "endChar": 45
      },
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "111a8b79_c8be2a09",
        "filename": "kleaf/impl/kernel_build.bzl",
        "patchSetId": 5
      },
      "lineNbr": 1490,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2023-02-08T13:24:53Z",
      "side": 1,
      "message": "Will this break users of kernel_build? If so, we should announce this change or make this provider optional.",
      "range": {
        "startLine": 1490,
        "startChar": 69,
        "endLine": 1490,
        "endChar": 91
      },
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2f4bc502_bf9f5f9a",
        "filename": "kleaf/impl/kernel_build.bzl",
        "patchSetId": 5
      },
      "lineNbr": 1490,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2023-02-08T18:41:19Z",
      "side": 1,
      "message": "No. This is an expectation on kernel_config rule.\n\nWe also never make any providers public (see kernel.bzl for the list we make publicly)",
      "parentUuid": "111a8b79_c8be2a09",
      "range": {
        "startLine": 1490,
        "startChar": 69,
        "endLine": 1490,
        "endChar": 91
      },
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "71c30eca_689263a4",
        "filename": "kleaf/impl/kernel_env.bzl",
        "patchSetId": 5
      },
      "lineNbr": 171,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2023-02-08T18:41:19Z",
      "side": 1,
      "message": "I think this is fine -- putting MAKE_GOALS in kernel_aarch64_env.sh for example can help us debug if something goes wrong here. But I do not object passing make_goals to kernel_build either ðŸ˜Š",
      "range": {
        "startLine": 171,
        "startChar": 8,
        "endLine": 171,
        "endChar": 93
      },
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e7e6bc11_a38eb43c",
        "filename": "kleaf/impl/kernel_env.bzl",
        "patchSetId": 5
      },
      "lineNbr": 171,
      "author": {
        "id": 1961395
      },
      "writtenOn": "2023-02-21T17:40:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "71c30eca_689263a4",
      "range": {
        "startLine": 171,
        "startChar": 8,
        "endLine": 171,
        "endChar": 93
      },
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c29b63eb_e5b0f7fb",
        "filename": "kleaf/impl/kernel_env.bzl",
        "patchSetId": 5
      },
      "lineNbr": 178,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2023-02-08T18:41:19Z",
      "side": 1,
      "message": "Also suggest buildozer command like kernel_module",
      "range": {
        "startLine": 177,
        "startChar": 0,
        "endLine": 178,
        "endChar": 12
      },
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5c41d117_c1c26ef8",
        "filename": "kleaf/impl/kernel_env.bzl",
        "patchSetId": 5
      },
      "lineNbr": 178,
      "author": {
        "id": 1961395
      },
      "writtenOn": "2023-02-21T17:40:04Z",
      "side": 1,
      "message": "Partially Done, as it seems buildozer is not able to find the target when it comes from `common_kernels.bzl`.",
      "parentUuid": "c29b63eb_e5b0f7fb",
      "range": {
        "startLine": 177,
        "startChar": 0,
        "endLine": 178,
        "endChar": 12
      },
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58c97560_a30cab49",
        "filename": "kleaf/impl/kernel_env.bzl",
        "patchSetId": 5
      },
      "lineNbr": 190,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2023-02-08T18:41:19Z",
      "side": 1,
      "message": "I think we need to check that items of make_goals doesn\u0027t contain spaces or quotes.\n\nAlso, this is probably better to be `quoted_make_goals \u003d shell.quote(\" \".join(make_goals))` and L180 becomes `export MAKE_GOALS\u003d{quoted_make_goals}` to ensure proper quoting",
      "range": {
        "startLine": 190,
        "startChar": 21,
        "endLine": 190,
        "endChar": 42
      },
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "83845067_514e6565",
        "filename": "kleaf/impl/kernel_env.bzl",
        "patchSetId": 5
      },
      "lineNbr": 190,
      "author": {
        "id": 1961395
      },
      "writtenOn": "2023-02-21T17:40:04Z",
      "side": 1,
      "message": "I\u0027ve tried forcing the `--kasan` and `--force_add_vmlinux` which are the cases where additional `make_goals` are added. I\u0027ll keep testing with this, but feel free to suggest other scenarios.",
      "parentUuid": "58c97560_a30cab49",
      "range": {
        "startLine": 190,
        "startChar": 21,
        "endLine": 190,
        "endChar": 42
      },
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "80f872b8_42494673",
        "filename": "kleaf/impl/kernel_env.bzl",
        "patchSetId": 5
      },
      "lineNbr": 190,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2023-02-21T23:35:14Z",
      "side": 1,
      "message": "I mean if the developer (probably incorrectly) declares:\n\n```\nkernel_build(make_goals \u003d \u0027\"; rm -rf /;\u0027)\n```\n(This won\u0027t actually cause issues by default because kernel_env is in a sandbox, but you could combine it with `--spawn_strategy\u003dlocal` too)\n\nThat\u0027s why I suggest\n\n```\n\"\"\"\nexport MAKE_GOALS\u003d{quoted_make_goals}\n\"\"\".format(quoted_make_goals \u003d shell.quote(...))\n```\n\n... instead of quoting yourself.",
      "parentUuid": "83845067_514e6565",
      "range": {
        "startLine": 190,
        "startChar": 21,
        "endLine": 190,
        "endChar": 42
      },
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "146d79a6_54f53d7d",
        "filename": "kleaf/impl/kernel_env.bzl",
        "patchSetId": 5
      },
      "lineNbr": 190,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2023-02-21T23:36:43Z",
      "side": 1,
      "message": "Also, if the developer (probably incorrectly) declares:\n\n```\nkernel_build(make_goals \u003d [\u0027foo bar\u0027])\n```\n\nThis code will treat them as two items. So we should just force them to declare `[\u0027foo\u0027, \u0027bar\u0027]` by checking spaces in items.",
      "parentUuid": "80f872b8_42494673",
      "range": {
        "startLine": 190,
        "startChar": 21,
        "endLine": 190,
        "endChar": 42
      },
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c9c21442_ed16777b",
        "filename": "kleaf/impl/kernel_env.bzl",
        "patchSetId": 5
      },
      "lineNbr": 190,
      "author": {
        "id": 1961395
      },
      "writtenOn": "2023-04-12T17:55:44Z",
      "side": 1,
      "message": "Partially Done.",
      "parentUuid": "146d79a6_54f53d7d",
      "range": {
        "startLine": 190,
        "startChar": 21,
        "endLine": 190,
        "endChar": 42
      },
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6c3ea58d_bdd6c9ae",
        "filename": "kleaf/impl/kernel_env.bzl",
        "patchSetId": 5
      },
      "lineNbr": 376,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2023-02-08T18:41:19Z",
      "side": 1,
      "message": "This is the default, so there\u0027s no need to specify it",
      "range": {
        "startLine": 376,
        "startChar": 0,
        "endLine": 376,
        "endChar": 25
      },
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d3a5aa40_52c801c1",
        "filename": "kleaf/impl/kernel_env.bzl",
        "patchSetId": 5
      },
      "lineNbr": 376,
      "author": {
        "id": 1961395
      },
      "writtenOn": "2023-02-21T17:40:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6c3ea58d_bdd6c9ae",
      "range": {
        "startLine": 376,
        "startChar": 0,
        "endLine": 376,
        "endChar": 25
      },
      "revId": "e607563b85cbb28aa7d9a153c37cde5d49103bfb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}