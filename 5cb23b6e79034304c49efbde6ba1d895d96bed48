{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "168292a3_c534ed72",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2022-06-03T05:22:19Z",
      "side": 1,
      "message": "kleaf change for the http://aosp/2092689",
      "revId": "5cb23b6e79034304c49efbde6ba1d895d96bed48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b65b175_f24f380a",
        "filename": "kleaf/impl/image/system_dlkm_image.bzl",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2022-06-07T20:22:41Z",
      "side": 1,
      "message": "What\u0027s the difference between `echo` and `ls` here?",
      "range": {
        "startLine": 31,
        "startChar": 34,
        "endLine": 31,
        "endChar": 38
      },
      "revId": "5cb23b6e79034304c49efbde6ba1d895d96bed48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2f579d78_50b1850e",
        "filename": "kleaf/impl/image/system_dlkm_image.bzl",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1557540
      },
      "writtenOn": "2022-06-07T20:26:20Z",
      "side": 1,
      "message": "why did you change this to echo?",
      "range": {
        "startLine": 31,
        "startChar": 34,
        "endLine": 31,
        "endChar": 38
      },
      "revId": "5cb23b6e79034304c49efbde6ba1d895d96bed48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "44b66e50_3eec64d6",
        "filename": "kleaf/impl/image/system_dlkm_image.bzl",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2022-06-07T20:42:54Z",
      "side": 1,
      "message": "It was not able to find the file and was erroring with ls; but then I found out in initramfs that we are using echo and that worked. ðŸ˜Š\n\nhttps://cs.android.com/android/kernel/superproject/+/common-android-mainline:build/kernel/kleaf/impl/image/initramfs.bzl;l\u003d43\n\nI think `ls` states the files where as `echo` generates the path as text to be used by other commands.",
      "parentUuid": "2b65b175_f24f380a",
      "range": {
        "startLine": 31,
        "startChar": 34,
        "endLine": 31,
        "endChar": 38
      },
      "revId": "5cb23b6e79034304c49efbde6ba1d895d96bed48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "46ea7214_400cb600",
        "filename": "kleaf/impl/image/system_dlkm_image.bzl",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2022-06-07T20:42:54Z",
      "side": 1,
      "message": "It was not able to find the file and was erroring with ls; but then I found out in initramfs that we are using echo and that worked. ðŸ˜Š\n\nhttps://cs.android.com/android/kernel/superproject/+/common-android-mainline:build/kernel/kleaf/impl/image/initramfs.bzl;l\u003d43\n\nI think  ls  states the files where as  echo  generates the path as text to be used by other commands.",
      "parentUuid": "2f579d78_50b1850e",
      "range": {
        "startLine": 31,
        "startChar": 34,
        "endLine": 31,
        "endChar": 38
      },
      "revId": "5cb23b6e79034304c49efbde6ba1d895d96bed48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cd8c58c3_66ace236",
        "filename": "kleaf/impl/image/system_dlkm_image.bzl",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2022-06-07T20:45:08Z",
      "side": 1,
      "message": "It would be problematic if the path does not exist, no?",
      "parentUuid": "46ea7214_400cb600",
      "range": {
        "startLine": 31,
        "startChar": 34,
        "endLine": 31,
        "endChar": 38
      },
      "revId": "5cb23b6e79034304c49efbde6ba1d895d96bed48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1cc69127_b81ec681",
        "filename": "kleaf/impl/image/system_dlkm_image.bzl",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2022-06-07T20:46:18Z",
      "side": 1,
      "message": "If * doesn\u0027t match anything, echo does return the string as is, but the line should immediately below will fail because it can\u0027t find the non-existent file.",
      "parentUuid": "cd8c58c3_66ace236",
      "range": {
        "startLine": 31,
        "startChar": 34,
        "endLine": 31,
        "endChar": 38
      },
      "revId": "5cb23b6e79034304c49efbde6ba1d895d96bed48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b7daf92d_78789c35",
        "filename": "kleaf/impl/image/system_dlkm_image.bzl",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2022-06-07T20:47:50Z",
      "side": 1,
      "message": "`ls` isn\u0027t perfect either; it really should\u0027ve been something like\n\n`modules_root_dir\u003d$(ls {system_dlkm_staging_dir}/lib/modules/*) || exit 1`",
      "parentUuid": "1cc69127_b81ec681",
      "range": {
        "startLine": 31,
        "startChar": 34,
        "endLine": 31,
        "endChar": 38
      },
      "revId": "5cb23b6e79034304c49efbde6ba1d895d96bed48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "860e9087_82c873d9",
        "filename": "kleaf/impl/image/system_dlkm_image.bzl",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2022-06-07T20:48:29Z",
      "side": 1,
      "message": "`modules_root_dir\u003d$(ls {system_dlkm_staging_dir}/lib/modules/*) || exit \"$?\"`",
      "parentUuid": "b7daf92d_78789c35",
      "range": {
        "startLine": 31,
        "startChar": 34,
        "endLine": 31,
        "endChar": 38
      },
      "revId": "5cb23b6e79034304c49efbde6ba1d895d96bed48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "45f6973c_8ae01a63",
        "filename": "kleaf/impl/image/system_dlkm_image.bzl",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2022-06-07T20:52:42Z",
      "side": 1,
      "message": "No, `ls` variant was working there; that\u0027s why I end up using echo as in `initramfs`\n\nHere is the error log if you can take a look: https://paste.googleplex.com/4805168773201920",
      "parentUuid": "860e9087_82c873d9",
      "range": {
        "startLine": 31,
        "startChar": 34,
        "endLine": 31,
        "endChar": 38
      },
      "revId": "5cb23b6e79034304c49efbde6ba1d895d96bed48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "16ed2989_45a18ee3",
        "filename": "kleaf/impl/image/system_dlkm_image.bzl",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2022-06-07T20:22:41Z",
      "side": 1,
      "message": "`cp -l` to avoid actual copy, if the file doesn\u0027t need to be overwritten",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 17
      },
      "revId": "5cb23b6e79034304c49efbde6ba1d895d96bed48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a1182725_fadb6fad",
        "filename": "kleaf/impl/image/system_dlkm_image.bzl",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2022-06-07T20:23:32Z",
      "side": 1,
      "message": "oh wait this is the actual output file. ignore this if cp -l doesn\u0027t work",
      "parentUuid": "16ed2989_45a18ee3",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 17
      },
      "revId": "5cb23b6e79034304c49efbde6ba1d895d96bed48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c5ad26c1_aedded8a",
        "filename": "kleaf/impl/image/system_dlkm_image.bzl",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2022-06-07T20:42:54Z",
      "side": 1,
      "message": "It should overwrite old one to reflect changes, if any.",
      "parentUuid": "16ed2989_45a18ee3",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 17
      },
      "revId": "5cb23b6e79034304c49efbde6ba1d895d96bed48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eec88657_fa6acec4",
        "filename": "kleaf/impl/image/system_dlkm_image.bzl",
        "patchSetId": 1
      },
      "lineNbr": 60,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2022-06-07T20:22:41Z",
      "side": 1,
      "message": "nit: make this a multi-line code and use buildifier\n\n```\noutputs \u003d [\n    foo,\n    bar,\n]",
      "range": {
        "startLine": 60,
        "startChar": 18,
        "endLine": 60,
        "endChar": 91
      },
      "revId": "5cb23b6e79034304c49efbde6ba1d895d96bed48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "39c0958c_80fdb817",
        "filename": "kleaf/impl/image/system_dlkm_image.bzl",
        "patchSetId": 1
      },
      "lineNbr": 60,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2022-06-07T20:42:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eec88657_fa6acec4",
      "range": {
        "startLine": 60,
        "startChar": 18,
        "endLine": 60,
        "endChar": 91
      },
      "revId": "5cb23b6e79034304c49efbde6ba1d895d96bed48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}