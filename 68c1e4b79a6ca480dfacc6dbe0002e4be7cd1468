{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "dc98f636_f6a405d8",
        "filename": "build_utils.sh",
        "patchSetId": 3
      },
      "lineNbr": 319,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2023-03-02T23:18:44Z",
      "side": 1,
      "message": "Shouldn\u0027t need this any more",
      "range": {
        "startLine": 311,
        "startChar": 0,
        "endLine": 319,
        "endChar": 0
      },
      "revId": "68c1e4b79a6ca480dfacc6dbe0002e4be7cd1468",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6fbbd896_a730a1e5",
        "filename": "build_utils.sh",
        "patchSetId": 3
      },
      "lineNbr": 319,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2023-03-02T23:25:34Z",
      "side": 1,
      "message": "(unless you want build.sh to work)",
      "parentUuid": "dc98f636_f6a405d8",
      "range": {
        "startLine": 311,
        "startChar": 0,
        "endLine": 319,
        "endChar": 0
      },
      "revId": "68c1e4b79a6ca480dfacc6dbe0002e4be7cd1468",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "253d0a45_f91f8c57",
        "filename": "build_utils.sh",
        "patchSetId": 3
      },
      "lineNbr": 319,
      "author": {
        "id": 1994660
      },
      "writtenOn": "2023-03-03T21:03:59Z",
      "side": 1,
      "message": "Need to be compatible with build.sh for now.",
      "parentUuid": "6fbbd896_a730a1e5",
      "range": {
        "startLine": 311,
        "startChar": 0,
        "endLine": 319,
        "endChar": 0
      },
      "revId": "68c1e4b79a6ca480dfacc6dbe0002e4be7cd1468",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8cbaea8a_c737a534",
        "filename": "kleaf/build_config_to_bazel.py",
        "patchSetId": 3
      },
      "lineNbr": 379,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2023-03-02T23:18:44Z",
      "side": 1,
      "message": "nit: shouldn\u0027t need this any more. We don\u0027t want to introduce more variables to build.sh.\n\n(But if you are introducing one, then keep it)",
      "range": {
        "startLine": 379,
        "startChar": 0,
        "endLine": 379,
        "endChar": 49
      },
      "revId": "68c1e4b79a6ca480dfacc6dbe0002e4be7cd1468",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "110b5f3b_95eb7224",
        "filename": "kleaf/build_config_to_bazel.py",
        "patchSetId": 3
      },
      "lineNbr": 379,
      "author": {
        "id": 1994660
      },
      "writtenOn": "2023-03-03T21:03:59Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "8cbaea8a_c737a534",
      "range": {
        "startLine": 379,
        "startChar": 0,
        "endLine": 379,
        "endChar": 49
      },
      "revId": "68c1e4b79a6ca480dfacc6dbe0002e4be7cd1468",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f6e42b24_bb3f5601",
        "filename": "kleaf/impl/image/kernel_images.bzl",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2023-03-02T23:16:17Z",
      "side": 1,
      "message": "Bazel does not recognize directories (usually). I think you need to specify a list of files here; so just `vendor_dlkm_insmod_cfg` or `vendor_dlkm_insmod_cfg_srcs` etc.",
      "range": {
        "startLine": 50,
        "startChar": 8,
        "endLine": 50,
        "endChar": 34
      },
      "revId": "68c1e4b79a6ca480dfacc6dbe0002e4be7cd1468",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e808fbba_4cc6bfa6",
        "filename": "kleaf/impl/image/kernel_images.bzl",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2023-03-02T23:25:34Z",
      "side": 1,
      "message": "nit: Also since this is a collection of files that are just copied to /etc, I\u0027d suggest renaming the attribute to `vendor_dlkm_etc_files` for example, so it is applicable to other files that needs to be copied under `etc/`. \n\nIf you are going this route, I\u0027d suggest not to change `DefaultInfo` below, and just add the files to the Pixel\u0027s `copy_to_dist_dir` rules instead. It just seems weird to me that we are copying everything under vendor_dlkm/etc to DIST_DIR without knowing what\u0027s in it, from the point of view of the rule.",
      "parentUuid": "f6e42b24_bb3f5601",
      "range": {
        "startLine": 50,
        "startChar": 8,
        "endLine": 50,
        "endChar": 34
      },
      "revId": "68c1e4b79a6ca480dfacc6dbe0002e4be7cd1468",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "05137fb4_71e3c852",
        "filename": "kleaf/impl/image/kernel_images.bzl",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1994660
      },
      "writtenOn": "2023-03-03T21:03:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e808fbba_4cc6bfa6",
      "range": {
        "startLine": 50,
        "startChar": 8,
        "endLine": 50,
        "endChar": 34
      },
      "revId": "68c1e4b79a6ca480dfacc6dbe0002e4be7cd1468",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "859f319c_61466695",
        "filename": "kleaf/impl/image/vendor_dlkm_image.bzl",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2023-03-02T23:16:17Z",
      "side": 1,
      "message": "Instead of doing this + build_utils change + adding a key in kernel_images, just\n\n```\ncp {vendor_dlkm_insmod_cfg_files} -t {modules_staging_dir}/etc\n```\n\nand at L67\n\n```\n.format(\n  vendor_dlkm_insmod_cfg_files \u003d [shell.quote(f.path) for f in ctx.files.vendor_dlkm_insmod_cfg]\n```\n\nYou also need to load `shell` extension: https://cs.android.com/android/kernel/superproject/+/common-android-mainline:build/kernel/kleaf/impl/kernel_kythe.bzl;l\u003d17;drc\u003d820616e407a5d727cba655973dfbbe7d5f3c97af",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 50,
        "endChar": 71
      },
      "revId": "68c1e4b79a6ca480dfacc6dbe0002e4be7cd1468",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "94a62c05_658790e7",
        "filename": "kleaf/impl/image/vendor_dlkm_image.bzl",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 1994660
      },
      "writtenOn": "2023-03-03T21:03:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "859f319c_61466695",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 50,
        "endChar": 71
      },
      "revId": "68c1e4b79a6ca480dfacc6dbe0002e4be7cd1468",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3fdbc23d_fa016231",
        "filename": "kleaf/impl/image/vendor_dlkm_image.bzl",
        "patchSetId": 3
      },
      "lineNbr": 74,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2023-03-02T23:18:44Z",
      "side": 1,
      "message": "Add the files to DefaultInfo here to be included in DIST_DIR; see my comment in bug.\n\n(Do you really need these files in DIST_DIR though?)",
      "range": {
        "startLine": 74,
        "startChar": 4,
        "endLine": 74,
        "endChar": 10
      },
      "revId": "68c1e4b79a6ca480dfacc6dbe0002e4be7cd1468",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "24719802_ec81dd8f",
        "filename": "kleaf/impl/image/vendor_dlkm_image.bzl",
        "patchSetId": 3
      },
      "lineNbr": 74,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2023-03-02T23:25:34Z",
      "side": 1,
      "message": "See other comment",
      "parentUuid": "3fdbc23d_fa016231",
      "range": {
        "startLine": 74,
        "startChar": 4,
        "endLine": 74,
        "endChar": 10
      },
      "revId": "68c1e4b79a6ca480dfacc6dbe0002e4be7cd1468",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4363c91d_33803bb0",
        "filename": "kleaf/impl/image/vendor_dlkm_image.bzl",
        "patchSetId": 3
      },
      "lineNbr": 74,
      "author": {
        "id": 1994660
      },
      "writtenOn": "2023-03-03T21:03:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "24719802_ec81dd8f",
      "range": {
        "startLine": 74,
        "startChar": 4,
        "endLine": 74,
        "endChar": 10
      },
      "revId": "68c1e4b79a6ca480dfacc6dbe0002e4be7cd1468",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "522c80a2_b4222a4d",
        "filename": "kleaf/impl/image/vendor_dlkm_image.bzl",
        "patchSetId": 3
      },
      "lineNbr": 101,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2023-03-02T23:16:17Z",
      "side": 1,
      "message": "label_list(allow_files \u003d True)\n\nsince you need multiple files",
      "range": {
        "startLine": 101,
        "startChar": 43,
        "endLine": 101,
        "endChar": 48
      },
      "revId": "68c1e4b79a6ca480dfacc6dbe0002e4be7cd1468",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ad11bd62_8e5645a7",
        "filename": "kleaf/impl/image/vendor_dlkm_image.bzl",
        "patchSetId": 3
      },
      "lineNbr": 101,
      "author": {
        "id": 1994660
      },
      "writtenOn": "2023-03-03T21:03:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "522c80a2_b4222a4d",
      "range": {
        "startLine": 101,
        "startChar": 43,
        "endLine": 101,
        "endChar": 48
      },
      "revId": "68c1e4b79a6ca480dfacc6dbe0002e4be7cd1468",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}