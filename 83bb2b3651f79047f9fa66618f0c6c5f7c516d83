{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "acf158ca_a4fb1a80",
        "filename": "kleaf/common_kernels.bzl",
        "patchSetId": 1
      },
      "lineNbr": 517,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2024-01-16T16:35:29Z",
      "side": 1,
      "message": "Perhaps we can instead read `.gitignore` ? https://android.googlesource.com/kernel/common/+/refs/heads/android-mainline/.gitignore#120\n\nOr perhaps we can turn this around and do an inclusive list by now? @elsk@google.com @umendez@google.com",
      "revId": "83bb2b3651f79047f9fa66618f0c6c5f7c516d83",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26c9f728_31ac9599",
        "filename": "kleaf/common_kernels.bzl",
        "patchSetId": 1
      },
      "lineNbr": 517,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2024-01-16T18:39:08Z",
      "side": 1,
      "message": "An inclusive list would be the most ideal solution, but we\u0027ll need to spend some time to make the inclusive list look right. That is, we need to come up with some patterns that are not too inclusive (as `**` we are using right now).\n\nI am not very sure about this change. Are these files generated by the IDE or Kbuild?\n\nIf by IDE, there are so many IDEs out there that does all sorts of things, so I am not sure if it is correct to treat one IDE special.\n\nIf by Kbuild, shouldn\u0027t Kbuild put generated files in `O\u003d`? We shouldn\u0027t have generated files in the source tree at all.\n\n---\n\n\u003e Perhaps we can instead read .gitignore ?\n\nNo. We can\u0027t read files at the loading phase.\n\nWe could keep / check-in a separate `ignore.bzl / ignore.scl` file, and use other mechanisms to keep it in sync with .gitignore. But I think it is an overkill.",
      "parentUuid": "acf158ca_a4fb1a80",
      "revId": "83bb2b3651f79047f9fa66618f0c6c5f7c516d83",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7a19d295_d7542092",
        "filename": "kleaf/common_kernels.bzl",
        "patchSetId": 1
      },
      "lineNbr": 517,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2024-01-16T18:41:09Z",
      "side": 1,
      "message": "Also, according to .gitignore, it should be\n\n```\ntags\nTAGS\ncscope.*\nncscope.*\n```",
      "parentUuid": "26c9f728_31ac9599",
      "revId": "83bb2b3651f79047f9fa66618f0c6c5f7c516d83",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d299c5d7_7f064ec2",
        "filename": "kleaf/common_kernels.bzl",
        "patchSetId": 1
      },
      "lineNbr": 517,
      "author": {
        "id": 1882526
      },
      "writtenOn": "2024-01-16T19:42:10Z",
      "side": 1,
      "message": "\u003e Are these files generated by the IDE or Kbuild?\n\nI tried to make this clear in the commit message but they\u0027re generated by Kbuild; see https://android.googlesource.com/kernel/common/+/refs/heads/android-mainline/Makefile#1607.\n\n\u003e Also, according to .gitignore, it should be\n\u003e ```\n\u003e tags\n\u003e ```\n\nYeah, that doesn\u0027t really cover my use-case but I guess that\u0027s fair enough as the `tags.temp` can be considered a \"IDE file\".\n\nAlthough an inclusive list would address my issue, irrespective of the file being generated by Kbuild or not! Happy to abandon this and keep it locally until we move away from `**`.",
      "parentUuid": "7a19d295_d7542092",
      "revId": "83bb2b3651f79047f9fa66618f0c6c5f7c516d83",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "65517b88_32fe97c5",
        "filename": "kleaf/common_kernels.bzl",
        "patchSetId": 1
      },
      "lineNbr": 517,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2024-01-17T07:22:52Z",
      "side": 1,
      "message": "So -- it is generated by Kbuild, but not via a bazel command, but via a raw, bare-bone `make` invocation without `O\u003d`, is that right?\n\nIf so, I think this falls into the category of\n\nhttps://android.googlesource.com/kernel/build/+/refs/heads/main/kleaf/docs/errors.md#operation-not-permitted\n\nand is not a supported workflow by Kleaf.\n\nThat being said, I don\u0027t think excluding these files in the glob expression is harmful, as long as the exclude list requires minimal to none maintenance effort. I would +1 to the same list in `.gitignore` and plus perhaps `tags.temp`.",
      "parentUuid": "d299c5d7_7f064ec2",
      "revId": "83bb2b3651f79047f9fa66618f0c6c5f7c516d83",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}