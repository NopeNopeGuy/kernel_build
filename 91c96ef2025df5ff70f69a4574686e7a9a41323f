{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8b98a1a6_30fe2f4d",
        "filename": "kleaf/docs/bzlmod.md",
        "patchSetId": 5
      },
      "lineNbr": 13,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2024-05-07T16:48:01Z",
      "side": 1,
      "message": "elaborate?",
      "range": {
        "startLine": 13,
        "startChar": 7,
        "endLine": 13,
        "endChar": 36
      },
      "fixSuggestions": [
        {
          "fixId": "66ec2f19_e9e498f2",
          "description": "prompt_to_edit API",
          "replacements": [
            {
              "path": "kleaf/docs/bzlmod.md",
              "range": {
                "startLine": 13,
                "startChar": 0,
                "endLine": 14,
                "endChar": 0
              },
              "replacement": "setup, this may be the easier option. This is because you can use the\n`WORKSPACE` file to declare dependencies, and the `WORKSPACE.bzlmod` file\nto declare dependencies that have not been migrated to bzlmod.\n"
            }
          ]
        }
      ],
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8f05f039_67e211e1",
        "filename": "kleaf/docs/bzlmod.md",
        "patchSetId": 5
      },
      "lineNbr": 13,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2024-05-09T00:44:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8b98a1a6_30fe2f4d",
      "range": {
        "startLine": 13,
        "startChar": 7,
        "endLine": 13,
        "endChar": 36
      },
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3e6868b3_7060c1fb",
        "filename": "kleaf/docs/bzlmod.md",
        "patchSetId": 5
      },
      "lineNbr": 35,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2024-05-01T23:29:39Z",
      "side": 1,
      "message": "Sometimes I get a weird error about rules_cc being needed from the Internet:\n\n```\nERROR: /DEFAULT.WORKSPACE.SUFFIX:50:6: fetching http_archive rule //external:rules_cc: Traceback (most recent call last):\n\tFile \"[...]/out/bazel/output_user_root/46cfe7c2401e18a01f46cecf0d3a5069/external/bazel_tools/tools/build_defs/repo/http.bzl\", line 133, column 45, in _http_archive_impl\n\t\tdownload_info \u003d ctx.download_and_extract(\nError in download_and_extract: java.io.IOException: Failed to download repository @@rules_cc: download is disabled.\n```\n\nThe error goes away if an empty WORKSPACE.bzlmod file is placed. I\u0027ll investigate into this.",
      "range": {
        "startLine": 34,
        "startChar": 38,
        "endLine": 35,
        "endChar": 58
      },
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "24e6ef40_60bb96e2",
        "filename": "kleaf/docs/bzlmod.md",
        "patchSetId": 5
      },
      "lineNbr": 35,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2024-05-09T00:44:08Z",
      "side": 1,
      "message": "Tracked in b/338440785",
      "parentUuid": "3e6868b3_7060c1fb",
      "range": {
        "startLine": 34,
        "startChar": 38,
        "endLine": 35,
        "endChar": 58
      },
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54db6319_74d984d8",
        "filename": "kleaf/docs/bzlmod.md",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2024-05-07T16:48:01Z",
      "side": 1,
      "message": "use the public device names, please",
      "range": {
        "startLine": 49,
        "startChar": 18,
        "endLine": 49,
        "endChar": 22
      },
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bdf264b6_1c5b4d5d",
        "filename": "kleaf/docs/bzlmod.md",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2024-05-09T00:44:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "54db6319_74d984d8",
      "range": {
        "startLine": 49,
        "startChar": 18,
        "endLine": 49,
        "endChar": 22
      },
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7519b5d_549578f5",
        "filename": "kleaf/docs/bzlmod.md",
        "patchSetId": 5
      },
      "lineNbr": 51,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2024-05-07T16:48:01Z",
      "side": 1,
      "message": "Prefer descriptive short links",
      "range": {
        "startLine": 51,
        "startChar": 0,
        "endLine": 51,
        "endChar": 106
      },
      "fixSuggestions": [
        {
          "fixId": "77a5fe96_ffa60b4d",
          "description": "prompt_to_edit API",
          "replacements": [
            {
              "path": "kleaf/docs/bzlmod.md",
              "range": {
                "startLine": 51,
                "startChar": 0,
                "endLine": 52,
                "endChar": 0
              },
              "replacement": "[Pixel 2021 repo manifest](https://android.googlesource.com/kernel/manifest/+/refs/heads/gs-android-gs-raviole-mainline/default.xml)\n"
            },
            {
              "path": "kleaf/docs/bzlmod.md",
              "range": {
                "startLine": 55,
                "startChar": 0,
                "endLine": 56,
                "endChar": 0
              },
              "replacement": "[ACK repo manifest](https://android.googlesource.com/kernel/manifest/+/refs/heads/common-android-mainline/default.xml)\n"
            }
          ]
        }
      ],
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "01499e99_af282766",
        "filename": "kleaf/docs/bzlmod.md",
        "patchSetId": 5
      },
      "lineNbr": 51,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2024-05-09T00:44:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e7519b5d_549578f5",
      "range": {
        "startLine": 51,
        "startChar": 0,
        "endLine": 51,
        "endChar": 106
      },
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1d0a96ef_7c571898",
        "filename": "kleaf/docs/ddk/workspace.md",
        "patchSetId": 5
      },
      "lineNbr": 1,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2024-05-07T16:48:01Z",
      "side": 1,
      "message": "a DDK Workspace",
      "range": {
        "startLine": 1,
        "startChar": 13,
        "endLine": 1,
        "endChar": 16
      },
      "fixSuggestions": [
        {
          "fixId": "a797647f_ce0916dc",
          "description": "prompt_to_edit API",
          "replacements": [
            {
              "path": "kleaf/docs/ddk/workspace.md",
              "range": {
                "startLine": 1,
                "startChar": 0,
                "endLine": 2,
                "endChar": 0
              },
              "replacement": "# Setting up a DDK Workspace\n"
            }
          ]
        }
      ],
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b98f7559_beb2818d",
        "filename": "kleaf/docs/ddk/workspace.md",
        "patchSetId": 5
      },
      "lineNbr": 1,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2024-05-09T00:44:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1d0a96ef_7c571898",
      "range": {
        "startLine": 1,
        "startChar": 13,
        "endLine": 1,
        "endChar": 16
      },
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "30c9f51a_8d144dc8",
        "filename": "kleaf/docs/ddk/workspace.md",
        "patchSetId": 5
      },
      "lineNbr": 3,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2024-05-07T16:48:01Z",
      "side": 1,
      "message": "let\u0027s drop this",
      "range": {
        "startLine": 3,
        "startChar": 3,
        "endLine": 3,
        "endChar": 17
      },
      "fixSuggestions": [
        {
          "fixId": "cea13e1e_6368bb97",
          "description": "prompt_to_edit API",
          "replacements": [
            {
              "path": "kleaf/docs/ddk/workspace.md",
              "range": {
                "startLine": 3,
                "startChar": 0,
                "endLine": 4,
                "endChar": 0
              },
              "replacement": "## Use the bootstrapping script\n"
            }
          ]
        }
      ],
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dc367318_7830e2f0",
        "filename": "kleaf/docs/ddk/workspace.md",
        "patchSetId": 5
      },
      "lineNbr": 3,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2024-05-09T00:44:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "30c9f51a_8d144dc8",
      "range": {
        "startLine": 3,
        "startChar": 3,
        "endLine": 3,
        "endChar": 17
      },
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "064e36a9_4c04dd28",
        "filename": "kleaf/docs/ddk/workspace.md",
        "patchSetId": 5
      },
      "lineNbr": 20,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2024-05-07T16:48:01Z",
      "side": 1,
      "message": "one way is enough and we should keep documentation simple. Any second option is not rocket science and users are able to come up with that by themselves trivially.",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 20,
        "endChar": 3
      },
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4378f8cb_0d2044cf",
        "filename": "kleaf/docs/ddk/workspace.md",
        "patchSetId": 5
      },
      "lineNbr": 20,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2024-05-09T00:44:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "064e36a9_4c04dd28",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 20,
        "endChar": 3
      },
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58203755_907b783c",
        "filename": "kleaf/docs/ddk/workspace.md",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2024-05-07T16:48:01Z",
      "side": 1,
      "message": "might be a stretch, but perhaps on an initialized workspace, something like `bazel run //:ddk_init` or `bazel run @kleaf:init` or `./ddk_init` is something to be standardized? Such that init.py itself is only ever called once directly from internet and then is built in.",
      "range": {
        "startLine": 22,
        "startChar": 37,
        "endLine": 22,
        "endChar": 52
      },
      "fixSuggestions": [
        {
          "fixId": "b651576a_cce8a3cf",
          "description": "prompt_to_edit API",
          "replacements": [
            {
              "path": "kleaf/docs/ddk/workspace.md",
              "range": {
                "startLine": 22,
                "startChar": 0,
                "endLine": 23,
                "endChar": 0
              },
              "replacement": "This command will be referred to as `python3 init.py` below. You may also\nuse `bazel run //:ddk_init` or `bazel run @kleaf:init` to run the script.\n"
            }
          ]
        }
      ],
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "268272de_b7fb7c90",
        "filename": "kleaf/docs/ddk/workspace.md",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2024-05-09T00:44:08Z",
      "side": 1,
      "message": "Up-rev requires re-downloading the script since the new version may require extra hook-ups.\n\nThe two `bazel run` commands won\u0027t fit because `init.py` is the bootstrapping script that retrieves //build/kernel and `bazel run //build/kernel:init_ddk`; not the reverse.\n\nGenerating a ./ddk_init script means the script must have some self-update abilities; is that what you are referring to?\n\nI want to encourage always running the ToT version vs. downloading the script and forgetting about it because, while we promise we\u0027ll maintain the stability of the API **\u0026 implementation** of init.py as much as possible, it is hard to predict the future. So I\u0027d rather keep it as-is now. After a year, if we are confident about the stability of the script, or we implement some self-updating mechanism, we can instruct users to download it only once and forget about it.",
      "parentUuid": "58203755_907b783c",
      "range": {
        "startLine": 22,
        "startChar": 37,
        "endLine": 22,
        "endChar": 52
      },
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "533293b0_89fd3e20",
        "filename": "kleaf/docs/ddk/workspace.md",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2024-05-10T14:51:02Z",
      "side": 1,
      "message": "Not sure the script needs to self-update. But it could basically do\n\ncurl \u0026 run and pass through that args or set them accordingly when called re-entrant. That is instead of the user having to specify all this. But let\u0027s move this discussion elsewhere, not necessary to resolve this here.",
      "parentUuid": "268272de_b7fb7c90",
      "range": {
        "startLine": 22,
        "startChar": 37,
        "endLine": 22,
        "endChar": 52
      },
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8903bba6_ce541ce3",
        "filename": "kleaf/docs/ddk/workspace.md",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2024-05-10T17:44:48Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "533293b0_89fd3e20",
      "range": {
        "startLine": 22,
        "startChar": 37,
        "endLine": 22,
        "endChar": 52
      },
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eeef2c0c_ef369e75",
        "filename": "kleaf/docs/download_prebuilt.md",
        "patchSetId": 5
      },
      "lineNbr": 3,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2024-05-07T16:48:01Z",
      "side": 1,
      "message": "are",
      "range": {
        "startLine": 3,
        "startChar": 35,
        "endLine": 3,
        "endChar": 37
      },
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b47d1ea1_9050237c",
        "filename": "kleaf/docs/download_prebuilt.md",
        "patchSetId": 5
      },
      "lineNbr": 3,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2024-05-09T00:44:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eeef2c0c_ef369e75",
      "range": {
        "startLine": 3,
        "startChar": 35,
        "endLine": 3,
        "endChar": 37
      },
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97c62571_7e456a04",
        "filename": "kleaf/docs/workspace.md",
        "patchSetId": 5
      },
      "lineNbr": 13,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2024-05-07T16:48:01Z",
      "side": 1,
      "message": "Support for non-Bzlmod builds is",
      "range": {
        "startLine": 13,
        "startChar": 21,
        "endLine": 13,
        "endChar": 23
      },
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "36d58f91_cefffa0b",
        "filename": "kleaf/docs/workspace.md",
        "patchSetId": 5
      },
      "lineNbr": 13,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2024-05-09T00:44:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "97c62571_7e456a04",
      "range": {
        "startLine": 13,
        "startChar": 21,
        "endLine": 13,
        "endChar": 23
      },
      "revId": "91c96ef2025df5ff70f69a4574686e7a9a41323f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}