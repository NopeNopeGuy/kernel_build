{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7058fe46_60c4aa45",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1625880
      },
      "writtenOn": "2023-02-20T09:28:05Z",
      "side": 1,
      "message": "The commit message links to a reverted change. Please update.",
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b58173fa_695489f4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2023-02-20T18:28:33Z",
      "side": 1,
      "message": "Created a revert of the revert and using that link aosp/2447222 as that should re-land once the broken targets caught by the check are fixed.",
      "parentUuid": "7058fe46_60c4aa45",
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d0f7c516_15718f17",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 1625880
      },
      "writtenOn": "2023-02-20T09:44:23Z",
      "side": 1,
      "message": "I would just say \"symbol list\". There are many choices for naming this argument (GKI symbols, KMI symbol list, ABI symbol list). I would use whatever most closely matches the intent of the script.\n\nDon\u0027t say \"allow\" as there is actually a symbol allow list elsewhere with a different function.",
      "range": {
        "startLine": 35,
        "startChar": 12,
        "endLine": 35,
        "endChar": 63
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c44ec200_24580133",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2023-02-20T18:28:33Z",
      "side": 1,
      "message": "\u003e I would just say \"symbol list\"\n\nI like \"help\" to be more descriptive; but I also like to get done with this as soon as possible and do not go too many iterations. So, \"symbol list\" it is.\n\nGoing with `raw_kmi_symbol_list` as `kleaf` argument being passed is called `raw_kmi_symbol_list` and deeply being pass around in the `kleaf` across targets. So, it\u0027s 1-to-1 match.",
      "parentUuid": "d0f7c516_15718f17",
      "range": {
        "startLine": 35,
        "startChar": 12,
        "endLine": 35,
        "endChar": 63
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "111c167c_d9343cee",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2023-02-20T17:49:25Z",
      "side": 1,
      "message": "In case of builds that do not have modules we only have vmlinux.symvers, but the functionality still works. Hence, please make this generic `--symvers-file`.",
      "range": {
        "startLine": 41,
        "startChar": 12,
        "endLine": 41,
        "endChar": 26
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e049cf58_0b5686ed",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2023-02-20T19:15:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "111c167c_d9343cee",
      "range": {
        "startLine": 41,
        "startChar": 12,
        "endLine": 41,
        "endChar": 26
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d12c4d72_3ed7bafd",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1625880
      },
      "writtenOn": "2023-02-20T09:44:23Z",
      "side": 1,
      "message": "What might else they be? This comment isn\u0027t adding value.",
      "range": {
        "startLine": 46,
        "startChar": 4,
        "endLine": 46,
        "endChar": 48
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "050a8fa0_3dea97f2",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2023-02-20T18:28:33Z",
      "side": 1,
      "message": "Removed.",
      "parentUuid": "d12c4d72_3ed7bafd",
      "range": {
        "startLine": 46,
        "startChar": 4,
        "endLine": 46,
        "endChar": 48
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "52e1f306_422381a0",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1625880
      },
      "writtenOn": "2023-02-20T09:44:23Z",
      "side": 1,
      "message": "This is an important part of the interface and shoulds be documented in the usage message.\n\nHowever, now is as good time as any to move away from:\n\n1. communication via environment variables\n2. defaulting the list in the script\n\nIs the intent that KMI_STRICT_MODE_OBJECTS consist of all GKI (non-partner) objects?",
      "range": {
        "startLine": 47,
        "startChar": 28,
        "endLine": 47,
        "endChar": 52
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "166ef1e5_d4796051",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2023-02-20T17:49:25Z",
      "side": 1,
      "message": "KMI_STRICT_MODE_OBJECTS is passed as part of the command line. Can we instead use the change to make this a program argument (with `[\u0027vmlinux\u0027,]` being the default) instead of an environment variable? This used to be overridable through the environment, but this is no longer the case.",
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0aeb5d3e_b4c366b6",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2023-02-20T18:28:33Z",
      "side": 1,
      "message": "This is being implemented as drop-in replacement for the outgoing bash script. So, by and large logic is not touched.\n\nAdded documentation in the Usage at the top as well as one liner just before fetching it.",
      "parentUuid": "52e1f306_422381a0",
      "range": {
        "startLine": 47,
        "startChar": 28,
        "endLine": 47,
        "endChar": 52
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d50043a9_24ed93dd",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2023-02-20T20:34:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "166ef1e5_d4796051",
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72e5ce5e_23f962a1",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2023-02-20T17:49:25Z",
      "side": 1,
      "message": "```\nsymbol_name, object_name, export_type \u003d line.strip().split(\"\\t\")\n```",
      "range": {
        "startLine": 54,
        "startChar": 1,
        "endLine": 57,
        "endChar": 37
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4f5a4f4a_89add8e5",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2023-02-20T17:49:25Z",
      "side": 1,
      "message": "since this loop is anyway over, consider\n```\n    for line in module_symvers_file:\n      symbol, object, export_type \u003d line.strip().split(\"\\t\")\n      if export_type.startswith(\"EXPORT_SYMBOL\") and object in objects:\n        ksymtab_symbols.append(symbol)\n```",
      "range": {
        "startLine": 55,
        "startChar": 0,
        "endLine": 57,
        "endChar": 37
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "34720293_7129c24b",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2023-02-20T19:15:14Z",
      "side": 1,
      "message": "Format is: `\u003cCRC\u003e \u003cSymbol\u003e \u003cModule\u003e \u003cExport Type\u003e \u003cNamespace\u003e`\n\nBut not all lines have the namespace:\n\n```\ncrc, symbol, owner, export_type, namespace \u003d line.strip().split(\"\\t\")\n```\n\nErrors In: `ValueError: not enough values to unpack (expected 5, got 4)`\n\n```\ncrc, symbol, object, export_type \u003d line.strip().split(\"\\t\")\n```\n\nErrors In: `ValueError: too many values to unpack (expected 4)`\n\n\nAny tricks I can use?",
      "parentUuid": "72e5ce5e_23f962a1",
      "range": {
        "startLine": 54,
        "startChar": 1,
        "endLine": 57,
        "endChar": 37
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3736a527_ace36c53",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2023-02-20T19:15:14Z",
      "side": 1,
      "message": "Took away applicable parts from this one and keeping other comment open for unpacking discussion.",
      "parentUuid": "4f5a4f4a_89add8e5",
      "range": {
        "startLine": 55,
        "startChar": 0,
        "endLine": 57,
        "endChar": 37
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fa1845c3_f2e0c735",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2023-02-20T20:34:05Z",
      "side": 1,
      "message": "Reference: [modules.rst - Android Code Search](https://cs.android.com/android/kernel/superproject/+/common-android-mainline:common/Documentation/kbuild/modules.rst;l\u003d480?q\u003dsymvers\u0026ss\u003dandroid%2Fkernel%2Fsuperproject:common%2FDocumentation%2F)",
      "parentUuid": "34720293_7129c24b",
      "range": {
        "startLine": 54,
        "startChar": 1,
        "endLine": 57,
        "endChar": 37
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f22130d2_3405f46a",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 1625880
      },
      "writtenOn": "2023-02-20T09:44:23Z",
      "side": 1,
      "message": "Add a comment as to the expected format of this file, either here or at the top.\n\nWe have two different formats in use. The ones partners use are in libabigail\u0027s .ini format. Later on, the build system uses a flat file of symbols (and there should be no need to strip whitespace from those).",
      "range": {
        "startLine": 59,
        "startChar": 1,
        "endLine": 59,
        "endChar": 18
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff815369_7b4feee9",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2023-02-20T17:49:25Z",
      "side": 1,
      "message": "this list does not need to be declared empty here. The definition within the upcoming block is sufficient.",
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f84053e3_bef505f7",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2023-02-20T18:28:33Z",
      "side": 1,
      "message": "I do not know about `.ini` file but the one being passed is called `raw_kmi_symbols` both in older `build.sh` and `kleaf`. And symbols are required to strip from this file as there is \u0027\\n\u0027 at the end.\n\nRenamed - `abi_symbols` -\u003e `kmi_symbols` to be in-sync with change of symbol list argument name. Also added a comment.",
      "parentUuid": "f22130d2_3405f46a",
      "range": {
        "startLine": 59,
        "startChar": 1,
        "endLine": 59,
        "endChar": 18
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1ab16ed6_2b5760ec",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 59,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2023-02-20T19:15:14Z",
      "side": 1,
      "message": "I thought it will be considered as part of the `with` block and will not have outside scope; but I guess it\u0027s not; just the file handle goes out of scope. Nice. Thanks. 👌",
      "parentUuid": "ff815369_7b4feee9",
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a41fbe2f_eedad22d",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 63,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2023-02-20T17:49:25Z",
      "side": 1,
      "message": "```\nabi_symbols \u003d abi_symbol_list_file.read().splitlines()\n```",
      "range": {
        "startLine": 61,
        "startChar": 4,
        "endLine": 63,
        "endChar": 5
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ecfb178c_9b2d626d",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 63,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2023-02-20T19:15:14Z",
      "side": 1,
      "message": "Thanks. 👌",
      "parentUuid": "a41fbe2f_eedad22d",
      "range": {
        "startLine": 61,
        "startChar": 4,
        "endLine": 63,
        "endChar": 5
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f113c9f1_8e50b478",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1625880
      },
      "writtenOn": "2023-02-20T09:44:23Z",
      "side": 1,
      "message": "I don\u0027t think this newline is needed.",
      "range": {
        "startLine": 68,
        "startChar": 11,
        "endLine": 68,
        "endChar": 13
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3943dc09_5c15d299",
        "filename": "abi/verify_ksymtab.py",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1889091
      },
      "writtenOn": "2023-02-20T18:28:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f113c9f1_8e50b478",
      "range": {
        "startLine": 68,
        "startChar": 11,
        "endLine": 68,
        "endChar": 13
      },
      "revId": "9f2bbcc171486a390992ba977348153654fa593d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}