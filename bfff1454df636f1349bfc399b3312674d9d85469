{
  "comments": [
    {
      "key": {
        "uuid": "e40399e3_8538936c",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "sort",
      "range": {
        "startLine": 23,
        "startChar": 7,
        "endLine": 23,
        "endChar": 11
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8bcd2f36_9d8ff8e5",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "\"-u\", \"--update\",",
      "range": {
        "startLine": 59,
        "startChar": 6,
        "endLine": 59,
        "endChar": 10
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ca06f2c_9ece57af",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "implied by store_true",
      "range": {
        "startLine": 61,
        "startChar": 6,
        "endLine": 61,
        "endChar": 20
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "18b60c38_eb237e92",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 64,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "can you also add a long parameter name. Especially useful for documentation.\n\nUsing the long version in the code would also improve readability a lot.\n\"-c\", \"--update-cf-modules\",",
      "range": {
        "startLine": 64,
        "startChar": 6,
        "endLine": 64,
        "endChar": 10
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eaad18e9_5721ab8d",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "implied by store_true",
      "range": {
        "startLine": 66,
        "startChar": 6,
        "endLine": 66,
        "endChar": 20
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "799e1604_e3c00471",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 76,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "ArgumentParser.add_mutually_exclusive_group(required\u003dTrue) does exactly that for you\n\nhttps://docs.python.org/2.7/library/argparse.html#argparse.ArgumentParser.add_mutually_exclusive_group",
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ea2c59e5_6315afc7",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "if \"ANDROID_BUILD_TOP\" not in os.environ:",
      "range": {
        "startLine": 82,
        "startChar": 7,
        "endLine": 82,
        "endChar": 42
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2145e6fb_97606cf8",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 84,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "make the parameter required",
      "range": {
        "startLine": 84,
        "startChar": 4,
        "endLine": 84,
        "endChar": 17
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "48b73a88_16a2eb48",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 90,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "consider https://docs.python.org/3.8/library/argparse.html#choices",
      "range": {
        "startLine": 89,
        "startChar": 6,
        "endLine": 90,
        "endChar": 85
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7ac763d_34b8bc65",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 93,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "The above section is quite tricky to reason about. Probably also quite tricky to get right, maintain and extend.\n\nIf I understand that correctly, you want to ensure a valid build target has been set either by -c or as a positional parameter.\n\nHow about you deduct the effective build target and then check whether it is valid.",
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "abf2777f_968d2b5f",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 94,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "you return the args. I would highly recommend not using globals then. rather pass exactly the parameters you need to the functions directly from main. same for the \"build_is_*\". Rather make them a function taking args or a target name).",
      "range": {
        "startLine": 94,
        "startChar": 2,
        "endLine": 94,
        "endChar": 13
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62ecb00e_85696da0",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 119,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "from pathlib import Path\nPath(__file__).parents[1].joinpath(\u0027common\u0027)",
      "range": {
        "startLine": 118,
        "startChar": 2,
        "endLine": 119,
        "endChar": 19
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "761ec718_d5577a1f",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 137,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "magic constant",
      "range": {
        "startLine": 137,
        "startChar": 21,
        "endLine": 137,
        "endChar": 24
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c5b35ce4_048e7a9c",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 139,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "import shlex\nshlex.split(gitlog, text\u003dTrue,cwd\u003d...)",
      "range": {
        "startLine": 138,
        "startChar": 37,
        "endLine": 139,
        "endChar": 69
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4246a50a_85b12c7b",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 150,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "are you interested in the output?",
      "range": {
        "startLine": 150,
        "startChar": 13,
        "endLine": 150,
        "endChar": 25
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "29ef8254_aa47698d",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 153,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "rather make this a docstring:\n\ndef get_binary_kernel_version(path):\n  \"\"\"Returns a tuple of strings ... extracted from the path passed.\"\"\"",
      "range": {
        "startLine": 153,
        "startChar": 0,
        "endLine": 153,
        "endChar": 68
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a704027_3642659f",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 156,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "r\"\" ?",
      "range": {
        "startLine": 156,
        "startChar": 12,
        "endLine": 156,
        "endChar": 13
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe0d78a0_0a9b80a2",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 157,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "match?",
      "range": {
        "startLine": 157,
        "startChar": 14,
        "endLine": 157,
        "endChar": 20
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "61505b24_f962e90f",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 160,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "I would not insist, but would prefer NameTuple\n\nhttps://docs.python.org/3.8/library/typing.html#typing.NamedTuple",
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6eef2ba6_fb200428",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 167,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "the mix between the local variables kernel_is_arm64 and the global build_is_arm64 is likely to cause confusion at some point.",
      "range": {
        "startLine": 167,
        "startChar": 22,
        "endLine": 167,
        "endChar": 37
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f0fd33b5_29486e98",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 169,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "os.path.join(output_dir, \"Image\")",
      "range": {
        "startLine": 169,
        "startChar": 35,
        "endLine": 169,
        "endChar": 56
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bccd2302_92669935",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 170,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "https://docs.python.org/3.8/library/os.html#os.rename",
      "range": {
        "startLine": 169,
        "startChar": 4,
        "endLine": 170,
        "endChar": 79
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b53d04e0_b53a1205",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 173,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "if you do not use the output, rather use check_call",
      "range": {
        "startLine": 173,
        "startChar": 15,
        "endLine": 173,
        "endChar": 27
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0af471f2_27c7b535",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 174,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "this is used so often that it warrants a local variable.",
      "range": {
        "startLine": 174,
        "startChar": 28,
        "endLine": 174,
        "endChar": 70
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2470958a_98f1cae8",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 178,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "os.rename",
      "range": {
        "startLine": 177,
        "startChar": 4,
        "endLine": 178,
        "endChar": 68
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e8ec02e_22571baa",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 198,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "https://docs.python.org/3.8/library/shutil.html#shutil.rmtree\n\nor if you want to keep output_dir\n\n for f in glob.glob(output_dir + \"/*\"):\n  os.remove(f)",
      "range": {
        "startLine": 196,
        "startChar": 2,
        "endLine": 198,
        "endChar": 16
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1b2f520_947af6da",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 216,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "this function contains a bit a repetition. consider making a helper function or a loop for readability.",
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1b38cfe8_ef078a26",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 217,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "docstrings are:\n  \"\"\"Something to say.\"\"\"",
      "range": {
        "startLine": 217,
        "startChar": 2,
        "endLine": 217,
        "endChar": 33
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "88a5f73b_0317ffb6",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 238,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "shutil.rmtree",
      "range": {
        "startLine": 238,
        "startChar": 2,
        "endLine": 238,
        "endChar": 57
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "629d9743_1ab36824",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 261,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "shutil.copy",
      "range": {
        "startLine": 260,
        "startChar": 4,
        "endLine": 261,
        "endChar": 59
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "059fae35_44b25ff5",
        "filename": "gki/download_from_ci",
        "patchSetId": 1
      },
      "lineNbr": 294,
      "author": {
        "id": 1402878
      },
      "writtenOn": "2020-08-13T09:11:22Z",
      "side": 1,
      "message": "globals are a bit of an anti pattern. avoid them if you can.\n\nif you use them at all, declare them at module level and mark them internal by prepending an underscore.",
      "range": {
        "startLine": 294,
        "startChar": 0,
        "endLine": 294,
        "endChar": 13
      },
      "revId": "bfff1454df636f1349bfc399b3312674d9d85469",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}